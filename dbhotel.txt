GOAL: in un foglio di testo, scrivere le query necessarie per rispondere ai seguenti quesiti:
● Selezionare tutti gli ospiti
● Selezionare tutti gli ospiti con document type = a CI
● Selezionare i paganti che abbiano un ospite id associato
● Selezionare tutte le stanze del primo piano
● Selezionare tutti gli ospiti che iniziano per E
● Selezionare tutti gli ospiti che abbiano meno di 30 anni
● Seleziona tutte le prenotazioni precedenti a maggio 2018
NOTA: ricordo che per eseguire il compito e' necessario il corretto funzionamento di PHPMyAdmin (richiesto per domani) e l'importazione del file db-hotel condiviso alle 11.40


1. SELECT * FROM ospiti;
2. SELECT * FROM ospiti WHERE document_type LIKE 'CI';
3. SELECT * FROM paganti WHERE ospite_id IS NOT NULL;
4. SELECT * FROM stanze WHERE floor = 1;
5. SELECT * FROM ospiti WHERE name LIKE 'E%';
6. SELECT name, lastname, date_of_birth, YEAR(NOW()) - YEAR (date_of_birth)
   FROM ospiti WHERE YEAR(NOW()) - YEAR (date_of_birth) < 30;
7. SELECT * FROM prenotazioni WHERE created_at < '2018-05-01';

Esercitazione 12/05/2021

Esercizio 1
1. Conta gli ospiti raggruppandoli per anno di nascita
2. Somma i prezzi dei pagamenti raggruppandoli per status
3. Conta quante volte è stata prenotata ogni stanza
4. Fai una analisi per vedere se ci sono ore in cui le prenotazioni sono più frequenti
5. Quante prenotazioni ha fatto l'ospite che ha fatto più prenotazioni? (quante, non chi!)

1. SELECT YEAR(date_of_birth), COUNT(*) FROM ospiti GROUP BY date_of_birth;



Esercizio 2
1. Come si chiamano gli ospiti che hanno fatto più di due prenotazioni?
2. Stampare tutti gli ospiti per ogni prenotazione
3. Stamopare Nome, Cognome, Prezzo e Pagante per tutte le prenotazioni fatte a Maggio 2018
4. Fai la somma di tutti i prezzi delle prenotazioni per le stanze del primo piano
5. Prendi i dati di fatturazione per la prenotazione con id=7
6. Le stanze sono state tutte prenotate almeno una volta?
    (Visualizzare le stanze non ancora prenotate)

